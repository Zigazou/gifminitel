<html>
    <head>
        <meta charset="utf-8">
        <title>Test GifMinitel</title>
        <style>
            img {
                width: 100%;
                height: auto;
                image-rendering: -moz-crisp-edges;
            }
        </style>
    </head>
    <body>
        <fieldset>
            <a href="" id="test-lnk">Télécharger</a>
        </fieldset>
        <fieldset>
            <img src="" id="test-img">
        </fieldset>
        <script src="gifminitel.js"></script>
        <script>
            const rows = 2
            const gifm = new GifMinitel(16, rows, 40)
            const array = []
            for(let i = 0; i < rows; i++) {
                array.push([0, 0, 0, 255]) // Black
                array.push([0, 0, 255, 255]) // Blue
                array.push([0, 0, 255, 255]) // Blue

                array.push([0, 0, 0, 255]) // Black
                array.push([0, 0, 255, 255]) // Blue
                array.push([0, 0, 255, 255]) // Blue
                array.push([255, 0, 0, 255]) // Red

                array.push([0, 0, 0, 255]) // Black
                array.push([0, 0, 255, 255]) // Blue
                array.push([0, 0, 255, 255]) // Blue
                array.push([255, 0, 0, 255]) // Red

                array.push([0, 0, 0, 255]) // Black
                array.push([0, 0, 0, 255]) // Black
                array.push([0, 0, 0, 255]) // Black

                array.push([0, 0, 0, 0]) // Transparent
                array.push([0, 0, 0, 0]) // Transparent
            }
            gifm.add(array, 16, rows)

            const data = gifm.save()
            const blob = new Blob([data], {type: "image/gif"});
            const url = URL.createObjectURL(blob, {type: "image/gif"})
            document.getElementById("test-lnk").href = url
            document.getElementById("test-img").src = url
        </script>
    </body>
</html>